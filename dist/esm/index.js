import{jsxs as e,jsx as l}from"react/jsx-runtime";import{useRef as t,useState as o,useMemo as i,useEffect as n}from"react";import{motion as a}from"framer-motion";import{createPortal as d}from"react-dom";function s(e,l){void 0===l&&(l={});var t=l.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var r={upload:"upload-module_upload__sdJ3u",fileList:"upload-module_fileList__r72T1",fileItem:"upload-module_fileItem__-GDPm",deleteItem:"upload-module_deleteItem__S1XS3"};function c(n){const{beforeUpload:a,children:d,uploadUrl:s,onComplete:c,customList:m,valueFilter:u}=n,_=t();let[p,f]=o([]);const h=e=>{const l=[];for(let t=0;t<e.length;t++)l.push(new Promise(((l,o)=>{const i=new XMLHttpRequest,n=new FormData;n.append("file",e[t]),i.open("POST",s),i.send(n),i.onerror=e=>{o(e)},i.onload=()=>{let o;try{o=JSON.parse(i.response)}catch(e){o=i.response}const n={lastModified:(a=e[t]).lastModified,name:a.name,size:a.size,type:a.type,originFileObj:a};var a;const d=Object.assign({response:o},n);l(d)}})));Promise.all(l).then((e=>{p=p.concat(e),f([...p]),null==c||c(p)}))},b=i((()=>m?m(p):p.map(((t,o)=>(console.log("Abc",t),e("li",Object.assign({className:r.fileItem},{children:[t.type,l("img",{src:t,style:{width:"100px"}}),l("span",Object.assign({onClick:()=>{null==p||p.splice(o,1),f([...p])},className:r.deleteItem},{children:"delete"}))]})))))),[p]);return e("span",Object.assign({className:r.upload},{children:[l("input",{multiple:!0,onChange:e=>{var l;e.target.files&&(l=e.target.files,null==a||a(l).then((e=>{h(l)})).catch((e=>{console.log(e)})))},ref:_,type:"file"}),e("ul",Object.assign({className:r.fileList},{children:[l("li",{children:l("span",Object.assign({onClick:()=>{_.current.click()}},{children:d}))}),b]}))]}))}s(".upload-module_upload__sdJ3u{cursor:pointer;display:inline-block;position:relative}.upload-module_upload__sdJ3u input{opacity:0;position:absolute;width:200px}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1{margin:0;padding-left:0}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 li{list-style:none}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm{position:relative}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm .upload-module_deleteItem__S1XS3{position:absolute}");var m={modal:"modal-module_modal__6lMO2",mask:"modal-module_mask__4ikYm",modalContent:"modal-module_modalContent__h8nfh"};function u(t){const{width:o=800,children:i,dontDestroyOnClose:n=!1,visible:d,onClose:s,style:r={},motionConfig:c={initial:{opacity:.1,y:0,scale:.2},animate:{opacity:1,y:50,scale:1}}}=t,u={};if(n)u.display=d?"block":"none";else if(!d)return null;return e("div",Object.assign({style:Object.assign({},u),className:m.modal},{children:[l("div",{onClick:()=>{null==s||s()},className:m.mask}),l(a.div,Object.assign({},c,{style:Object.assign({width:`${o}px`},r),className:m.modalContent},{children:i}))]}))}s(".modal-module_modal__6lMO2{bottom:0;left:0;position:fixed;right:0;top:0;width:100%;z-index:1000}.modal-module_modal__6lMO2 .modal-module_mask__4ikYm{background-color:rgba(92,93,93,.385);bottom:0;left:0;position:fixed;right:0;top:0;z-index:10000}.modal-module_modal__6lMO2 .modal-module_modalContent__h8nfh{background-color:#fff;left:0;margin:0 auto;min-height:200px;position:absolute;right:0;top:0;z-index:10001}");var _={tab:"tab-module_tab__OCzxZ",title:"tab-module_title__7nE0l",tabContent:"tab-module_tabContent__zUPX9"};function p(i){const{items:s,className:r,defaultActiveKey:c,motionConfig:m,extension:u,extSelector:p,tabContentVisible:f=!0,onTabChange:h,hiddenStyle:b={display:"none"}}=i,[g,y]=o(0),[v,x]=o(),O=t(null);return n((()=>{var e;if(!O)return;if(!u)return;if(!p)throw new Error("'extSelector' not provide!");const l=null===(e=O.current)||void 0===e?void 0:e.querySelector(p);l&&x(l)}),[O.current]),e("div",Object.assign({ref:O,className:`${_.tab} ${r}`},{children:[v?d(u,v):null,l(a.ul,Object.assign({"aria-label":"tab",className:_.title},{children:null==s?void 0:s.map(((e,t)=>l(a.li,Object.assign({"aria-label":"tab-title",onClick:()=>{y(t),null==h||h(e)}},{children:e.title}),e.key)))})),f?l(a.div,Object.assign({"aria-label":"tab-content"},m,{className:_.tabContent},{children:null==s?void 0:s[g].children})):null]}))}s(".tab-module_tab__OCzxZ .tab-module_title__7nE0l li{cursor:pointer;list-style:none;padding:10px}.tab-module_tab__OCzxZ .tab-module_tabContent__zUPX9{color:inherit}");var f={flex:"flex-module_flex__cvL3B"};function h(e){const{children:t,style:o,className:i,itemSpace:n}=e;return l("div",Object.assign({},e,{style:o,className:`${f.flex} ${i}`},{children:t}))}function b({children:e,className:t,style:o,perc:i}){const n=i?{flexBasis:i/24*100}:{};return l("div",Object.assign({className:t,style:Object.assign(Object.assign({},n),o)},{children:e}))}function g(t){const{data:o,cols:n,className:a}=t,d=i((()=>null==n?void 0:n.map((e=>l("td",{children:null==e?void 0:e.title},null==e?void 0:e.key)))),[n]);return e("table",Object.assign({className:a},{children:[l("thead",{children:l("tr",{children:d})}),l("tbody",{children:null==o?void 0:o.map((e=>l("tr",{children:null==n?void 0:n.map((t=>t.render?l("td",{children:t.render(e)},t.key):l("td",{children:e[t.key]},t.key)))},e.id)))})]}))}s(".flex-module_flex__cvL3B{display:flex;flex-wrap:wrap}");export{h as Flex,b as FlexItem,u as Modal,p as Tab,g as Table,c as Upload};
//# sourceMappingURL=index.js.map
