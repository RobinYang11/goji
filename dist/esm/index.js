import{jsxs as e,jsx as l}from"react/jsx-runtime";import{useRef as t,useState as o,useMemo as a,useEffect as i}from"react";import{motion as n}from"framer-motion";import{createPortal as d}from"react-dom";function s(e,l){void 0===l&&(l={});var t=l.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var r={upload:"upload-module_upload__sdJ3u",fileList:"upload-module_fileList__r72T1",fileItem:"upload-module_fileItem__-GDPm",deleteItem:"upload-module_deleteItem__S1XS3"};function c(i){const{beforeUpload:n,children:d,uploadUrl:s,onComplete:c,customList:m,valueFilter:u}=i,_=t();let[p,b]=o([]);const f=e=>{console.log("#",e);const l=[];for(let t=0;t<e.length;t++)l.push(new Promise(((l,o)=>{const a=new XMLHttpRequest,i=new FormData;i.append("file",e[t]),a.open("POST",s),a.send(i),a.onerror=e=>{o(e)},a.onload=()=>{let o;try{o=JSON.parse(a.response)}catch(e){o=a.response}const i={lastModified:(n=e[t]).lastModified,name:n.name,size:n.size,type:n.type,originFileObj:n};var n;const d=Object.assign({response:o},i);l(d)}})));Promise.all(l).then((e=>{console.log("##",e),p=p.concat(e),b([...p]),null==c||c(p)}))},h=a((()=>m?m(p):p.map(((t,o)=>(console.log("Abc",t),e("li",Object.assign({className:r.fileItem},{children:[t.type,l("img",{src:t,style:{width:"100px"}}),l("span",Object.assign({onClick:()=>{null==p||p.splice(o,1),b([...p])},className:r.deleteItem},{children:"delete"}))]})))))),[p]);return e("span",Object.assign({className:r.upload},{children:[l("input",{multiple:!0,onChange:e=>{var l;console.log("E",e.target.files),e.target.files&&(l=e.target.files,n?null==n||n(l).then((e=>{f(l)})).catch((e=>{console.log(e)})):f(l))},ref:_,type:"file"}),e("ul",Object.assign({className:r.fileList},{children:[l("li",{children:l("span",Object.assign({onClick:()=>{_.current.click()}},{children:d}))}),h]}))]}))}s(".upload-module_upload__sdJ3u{cursor:pointer;display:inline-block;position:relative}.upload-module_upload__sdJ3u input{opacity:0;position:absolute;width:200px}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1{margin:0;padding-left:0}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 li{list-style:none}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm{position:relative}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm .upload-module_deleteItem__S1XS3{position:absolute}");var m={modal:"modal-module_modal__6lMO2",mask:"modal-module_mask__4ikYm",modalContent:"modal-module_modalContent__h8nfh"};function u(t){const{width:o=800,children:a,dontDestroyOnClose:i=!1,visible:d,onClose:s,style:r={},motionConfig:c={initial:{opacity:.1,y:0,scale:.2},animate:{opacity:1,y:50,scale:1}}}=t,u={};if(i)u.display=d?"block":"none";else if(!d)return null;return e("div",Object.assign({style:Object.assign({},u),className:m.modal},{children:[l("div",{onClick:()=>{null==s||s()},className:m.mask}),l(n.div,Object.assign({},c,{style:Object.assign({width:`${o}px`},r),className:m.modalContent},{children:a}))]}))}s(".modal-module_modal__6lMO2{bottom:0;left:0;position:fixed;right:0;top:0;width:100%;z-index:1000}.modal-module_modal__6lMO2 .modal-module_mask__4ikYm{background-color:rgba(92,93,93,.385);bottom:0;left:0;position:fixed;right:0;top:0;z-index:10000}.modal-module_modal__6lMO2 .modal-module_modalContent__h8nfh{background-color:#fff;left:0;margin:0 auto;min-height:200px;position:absolute;right:0;top:0;z-index:10001}");var _={tab:"tab-module_tab__OCzxZ",title:"tab-module_title__7nE0l",tabContent:"tab-module_tabContent__zUPX9"};function p(a){const{items:s,className:r,defaultActiveKey:c,motionConfig:m,extension:u,extSelector:p,tabContentVisible:b=!0,onTabChange:f,hiddenStyle:h={display:"none"}}=a,[g,y]=o(0),[x,v]=o(),C=t(null);return i((()=>{var e;if(!C)return;if(!u)return;if(!p)throw new Error("'extSelector' not provide!");const l=null===(e=C.current)||void 0===e?void 0:e.querySelector(p);l&&v(l)}),[C.current]),e("div",Object.assign({ref:C,className:`${_.tab} ${r}`},{children:[x?d(u,x):null,l(n.ul,Object.assign({"aria-label":"tab",className:_.title},{children:null==s?void 0:s.map(((e,t)=>l(n.li,Object.assign({"aria-label":"tab-title",onClick:()=>{y(t),null==f||f(e)}},{children:e.title}),e.key)))})),b?l(n.div,Object.assign({"aria-label":"tab-content"},m,{className:_.tabContent},{children:null==s?void 0:s[g].children})):null]}))}s(".tab-module_tab__OCzxZ .tab-module_title__7nE0l li{cursor:pointer;list-style:none;padding:10px}.tab-module_tab__OCzxZ .tab-module_tabContent__zUPX9{color:inherit}");var b={flex:"flex-module_flex__cvL3B"};function f(e){const{children:t,style:o,className:a,itemSpace:i}=e;return l("div",Object.assign({},e,{style:o,className:`${b.flex} ${a}`},{children:t}))}function h({children:e,className:t,style:o,perc:a}){const i=a?{flexBasis:a/24*100}:{};return l("div",Object.assign({className:t,style:Object.assign(Object.assign({},i),o)},{children:e}))}s(".flex-module_flex__cvL3B{display:flex;flex-wrap:wrap}");var g={table:"table-module_table__7msNC"};function y(t){const{data:o,cols:i,className:n}=t,d=a((()=>null==i?void 0:i.map((e=>l("td",{children:null==e?void 0:e.title},null==e?void 0:e.key)))),[i]);return e("table",Object.assign({className:`${n} ${g.table}`},{children:[l("thead",{children:l("tr",{children:d})}),l("tbody",{children:null==o?void 0:o.map((e=>l("tr",{children:null==i?void 0:i.map((t=>t.render?l("td",{children:t.render(e)},t.key):l("td",{children:e[t.key]},t.key)))},e.id)))})]}))}s(".table-module_table__7msNC{border-collapse:collapse;font-size:16px;text-align:center}.table-module_table__7msNC thead{background-color:#f7f7f7;height:40px;line-height:40px}.table-module_table__7msNC tbody{background-color:#fcfcfc}.table-module_table__7msNC tbody td{height:40px;line-height:40px;padding:0 12px}");export{f as Flex,h as FlexItem,u as Modal,p as Tab,y as Table,c as Upload};
//# sourceMappingURL=index.js.map
