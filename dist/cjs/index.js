"use strict";var e=require("react/jsx-runtime"),l=require("react"),t=require("framer-motion"),o=require("react-dom");function s(e,l){void 0===l&&(l={});var t=l.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===t&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var i={upload:"upload-module_upload__sdJ3u",fileList:"upload-module_fileList__r72T1",fileItem:"upload-module_fileItem__-GDPm",deleteItem:"upload-module_deleteItem__S1XS3"};s(".upload-module_upload__sdJ3u{cursor:pointer;display:inline-block;position:relative}.upload-module_upload__sdJ3u input{opacity:0;position:absolute;width:200px}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1{margin:0;padding-left:0}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 li{list-style:none}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm{position:relative}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm .upload-module_deleteItem__S1XS3{position:absolute}");var a={modal:"modal-module_modal__6lMO2",mask:"modal-module_mask__4ikYm",modalContent:"modal-module_modalContent__h8nfh"};s(".modal-module_modal__6lMO2{bottom:0;left:0;position:fixed;right:0;top:0;width:100%}.modal-module_modal__6lMO2 .modal-module_mask__4ikYm{background-color:rgba(92,93,93,.385);bottom:0;left:0;position:fixed;right:0;top:0;z-index:10000}.modal-module_modal__6lMO2 .modal-module_modalContent__h8nfh{background-color:#fff;left:0;margin:0 auto;min-height:200px;position:absolute;right:0;top:100px;z-index:10001}");var n={tab:"tab-module_tab__OCzxZ",title:"tab-module_title__7nE0l",tabContent:"tab-module_tabContent__zUPX9"};s(".tab-module_tab__OCzxZ .tab-module_title__7nE0l li{cursor:pointer;list-style:none;padding:10px}.tab-module_tab__OCzxZ .tab-module_tabContent__zUPX9{color:inherit}");var d={flex:"flex-module_flex__cvL3B"};s(".flex-module_flex__cvL3B{display:flex;flex-wrap:wrap}"),exports.Flex=function({children:l,style:t,className:o}){return e.jsx("div",Object.assign({style:t,className:`${d.flex} ${o}`},{children:l}))},exports.FlexItem=function({children:l,className:t,style:o,perc:s}){const i=s?{flexBasis:s/24*100}:{};return e.jsx("div",Object.assign({className:t,style:Object.assign(Object.assign({},i),o)},{children:l}))},exports.Modal=function(l){const{width:o=800,children:s,dontDestroyOnClose:i=!1,visible:n,onClose:d,style:r={},motionConfig:u={initial:{opacity:.1,y:0,scale:.2},animate:{opacity:1,y:100,scale:1}}}=l,c={};if(i)c.display=n?"block":"none";else if(!n)return null;return e.jsxs("div",Object.assign({style:Object.assign({},c),className:a.modal},{children:[e.jsx("div",{onClick:()=>{null==d||d()},className:a.mask}),e.jsx(t.motion.div,Object.assign({},u,{style:Object.assign({width:`${o}px`},r),className:a.modalContent},{children:s}))]}))},exports.Tab=function(s){const{items:i,className:a,defaultActiveKey:d,motionConfig:r,extension:u,extSelector:c,tabContentVisible:m=!0,onTabChange:_,hiddenStyle:p={display:"none"}}=s,[f,b]=l.useState(0),[x,h]=l.useState(),j=l.useRef(null);return l.useEffect((()=>{var e;if(!j)return;if(!u)return;if(!c)throw new Error("'extSelector' not provide!");const l=null===(e=j.current)||void 0===e?void 0:e.querySelector(c);l&&h(l)}),[j.current]),e.jsxs("div",Object.assign({ref:j,className:`${n.tab} ${a}`},{children:[x?o.createPortal(u,x):null,e.jsx(t.motion.ul,Object.assign({"aria-label":"tab",className:n.title},{children:null==i?void 0:i.map(((l,o)=>e.jsx(t.motion.li,Object.assign({"aria-label":"tab-title",onClick:()=>{b(o),null==_||_(l)}},{children:l.title}),l.key)))})),m?e.jsx(t.motion.div,Object.assign({"aria-label":"tab-content"},r,{className:n.tabContent},{children:null==i?void 0:i[f].children})):null]}))},exports.Table=function(t){const{data:o,cols:s,className:i}=t,a=l.useMemo((()=>null==s?void 0:s.map((l=>e.jsx("td",{children:null==l?void 0:l.title},null==l?void 0:l.key)))),[s]);return e.jsxs("table",Object.assign({className:i},{children:[e.jsx("thead",{children:e.jsx("tr",{children:a})}),e.jsx("tbody",{children:null==o?void 0:o.map((l=>e.jsx("tr",{children:null==s?void 0:s.map((t=>t.render?e.jsx("td",{children:t.render(l)},t.key):e.jsx("td",{children:l[t.key]},t.key)))},l.id)))})]}))},exports.Upload=function(t){const{beforeUpload:o,children:s,uploadUrl:a,onComplete:n,customList:d,valueFilter:r}=t,u=l.useRef();let[c,m]=l.useState([]);const _=e=>{const l=[];for(let t=0;t<e.length;t++)l.push(new Promise(((l,o)=>{const s=new XMLHttpRequest,i=new FormData;i.append("file",e[t]),s.open("POST",a),s.send(i),s.onerror=e=>{o(e)},s.onload=()=>{let o;try{o=JSON.parse(s.response)}catch(e){o=s.response}const i={lastModified:(a=e[t]).lastModified,name:a.name,size:a.size,type:a.type,originFileObj:a};var a;const n=Object.assign({response:o},i);l(n)}})));Promise.all(l).then((e=>{c=c.concat(e),m([...c]),null==n||n(c)}))},p=l.useMemo((()=>d?d(c):c.map(((l,t)=>(console.log("Abc",l),e.jsxs("li",Object.assign({className:i.fileItem},{children:[l.type,e.jsx("img",{src:l,style:{width:"100px"}}),e.jsx("span",Object.assign({onClick:()=>{null==c||c.splice(t,1),m([...c])},className:i.deleteItem},{children:"delete"}))]})))))),[c]);return e.jsxs("span",Object.assign({className:i.upload},{children:[e.jsx("input",{multiple:!0,onChange:e=>{var l;e.target.files&&(l=e.target.files,null==o||o(l).then((e=>{_(l)})).catch((e=>{console.log(e)})))},ref:u,type:"file"}),e.jsxs("ul",Object.assign({className:i.fileList},{children:[e.jsx("li",{children:e.jsx("span",Object.assign({onClick:()=>{u.current.click()}},{children:s}))}),p]}))]}))};
//# sourceMappingURL=index.js.map
