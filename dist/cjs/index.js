"use strict";var e=require("react/jsx-runtime"),l=require("react"),t=require("framer-motion"),o=require("react-dom");function a(e,l){void 0===l&&(l={});var t=l.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var s={upload:"upload-module_upload__sdJ3u",fileList:"upload-module_fileList__r72T1",fileItem:"upload-module_fileItem__-GDPm",deleteItem:"upload-module_deleteItem__S1XS3"};a(".upload-module_upload__sdJ3u{cursor:pointer;display:inline-block;position:relative}.upload-module_upload__sdJ3u input{opacity:0;position:absolute;width:200px}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1{margin:0;padding-left:0}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 li{list-style:none}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm{position:relative}.upload-module_upload__sdJ3u .upload-module_fileList__r72T1 .upload-module_fileItem__-GDPm .upload-module_deleteItem__S1XS3{position:absolute}");var i={modal:"modal-module_modal__6lMO2",mask:"modal-module_mask__4ikYm",modalContent:"modal-module_modalContent__h8nfh"};a(".modal-module_modal__6lMO2{bottom:0;left:0;position:fixed;right:0;top:0;width:100%;z-index:1000}.modal-module_modal__6lMO2 .modal-module_mask__4ikYm{background-color:rgba(92,93,93,.385);bottom:0;left:0;position:fixed;right:0;top:0;z-index:10000}.modal-module_modal__6lMO2 .modal-module_modalContent__h8nfh{background-color:#fff;left:0;margin:0 auto;min-height:200px;position:absolute;right:0;top:0;z-index:10001}");var n={tab:"tab-module_tab__OCzxZ",title:"tab-module_title__7nE0l",tabContent:"tab-module_tabContent__zUPX9"};a(".tab-module_tab__OCzxZ .tab-module_title__7nE0l li{cursor:pointer;list-style:none;padding:10px}.tab-module_tab__OCzxZ .tab-module_tabContent__zUPX9{color:inherit}");var d={flex:"flex-module_flex__cvL3B"};a(".flex-module_flex__cvL3B{display:flex;flex-wrap:wrap}");var r={table:"table-module_table__7msNC"};a(".table-module_table__7msNC{border-collapse:collapse;font-size:16px;text-align:center}.table-module_table__7msNC thead{background-color:#f7f7f7;height:40px;line-height:40px}.table-module_table__7msNC tbody{background-color:#fcfcfc}.table-module_table__7msNC tbody td{height:40px;line-height:40px;padding:0 12px}"),exports.Flex=function(l){const{children:t,style:o,className:a,itemSpace:s}=l;return e.jsx("div",Object.assign({},l,{style:o,className:`${d.flex} ${a}`},{children:t}))},exports.FlexItem=function({children:l,className:t,style:o,perc:a}){const s=a?{flexBasis:a/24*100}:{};return e.jsx("div",Object.assign({className:t,style:Object.assign(Object.assign({},s),o)},{children:l}))},exports.Modal=function(l){const{width:o=800,children:a,dontDestroyOnClose:s=!1,visible:n,onClose:d,style:r={},motionConfig:c={initial:{opacity:.1,y:0,scale:.2},animate:{opacity:1,y:50,scale:1}}}=l,u={};if(s)u.display=n?"block":"none";else if(!n)return null;return e.jsxs("div",Object.assign({style:Object.assign({},u),className:i.modal},{children:[e.jsx("div",{onClick:()=>{null==d||d()},className:i.mask}),e.jsx(t.motion.div,Object.assign({},c,{style:Object.assign({width:`${o}px`},r),className:i.modalContent},{children:a}))]}))},exports.Tab=function(a){const{items:s,className:i,defaultActiveKey:d,motionConfig:r,extension:c,extSelector:u,tabContentVisible:m=!0,onTabChange:_,hiddenStyle:p={display:"none"}}=a,[b,f]=l.useState(0),[h,x]=l.useState(),g=l.useRef(null);return l.useEffect((()=>{var e;if(!g)return;if(!c)return;if(!u)throw new Error("'extSelector' not provide!");const l=null===(e=g.current)||void 0===e?void 0:e.querySelector(u);l&&x(l)}),[g.current]),e.jsxs("div",Object.assign({ref:g,className:`${n.tab} ${i}`},{children:[h?o.createPortal(c,h):null,e.jsx(t.motion.ul,Object.assign({"aria-label":"tab",className:n.title},{children:null==s?void 0:s.map(((l,o)=>e.jsx(t.motion.li,Object.assign({"aria-label":"tab-title",onClick:()=>{f(o),null==_||_(l)}},{children:l.title}),l.key)))})),m?e.jsx(t.motion.div,Object.assign({"aria-label":"tab-content"},r,{className:n.tabContent},{children:null==s?void 0:s[b].children})):null]}))},exports.Table=function(t){const{data:o,cols:a,className:s}=t,i=l.useMemo((()=>null==a?void 0:a.map((l=>e.jsx("td",{children:null==l?void 0:l.title},null==l?void 0:l.key)))),[a]);return e.jsxs("table",Object.assign({className:`${s} ${r.table}`},{children:[e.jsx("thead",{children:e.jsx("tr",{children:i})}),e.jsx("tbody",{children:null==o?void 0:o.map((l=>e.jsx("tr",{children:null==a?void 0:a.map((t=>t.render?e.jsx("td",{children:t.render(l)},t.key):e.jsx("td",{children:l[t.key]},t.key)))},l.id)))})]}))},exports.Upload=function(t){const{beforeUpload:o,children:a,uploadUrl:i,onComplete:n,customList:d,valueFilter:r}=t,c=l.useRef();let[u,m]=l.useState([]);const _=e=>{console.log("#",e);const l=[];for(let t=0;t<e.length;t++)l.push(new Promise(((l,o)=>{const a=new XMLHttpRequest,s=new FormData;s.append("file",e[t]),a.open("POST",i),a.send(s),a.onerror=e=>{o(e)},a.onload=()=>{let o;try{o=JSON.parse(a.response)}catch(e){o=a.response}const s={lastModified:(i=e[t]).lastModified,name:i.name,size:i.size,type:i.type,originFileObj:i};var i;const n=Object.assign({response:o},s);l(n)}})));Promise.all(l).then((e=>{console.log("##",e),u=u.concat(e),m([...u]),null==n||n(u)}))},p=l.useMemo((()=>d?d(u):u.map(((l,t)=>(console.log("Abc",l),e.jsxs("li",Object.assign({className:s.fileItem},{children:[l.type,e.jsx("img",{src:l,style:{width:"100px"}}),e.jsx("span",Object.assign({onClick:()=>{null==u||u.splice(t,1),m([...u])},className:s.deleteItem},{children:"delete"}))]})))))),[u]);return e.jsxs("span",Object.assign({className:s.upload},{children:[e.jsx("input",{multiple:!0,onChange:e=>{var l;console.log("E",e.target.files),e.target.files&&(l=e.target.files,o?null==o||o(l).then((e=>{_(l)})).catch((e=>{console.log(e)})):_(l))},ref:c,type:"file"}),e.jsxs("ul",Object.assign({className:s.fileList},{children:[e.jsx("li",{children:e.jsx("span",Object.assign({onClick:()=>{c.current.click()}},{children:a}))}),p]}))]}))};
//# sourceMappingURL=index.js.map
